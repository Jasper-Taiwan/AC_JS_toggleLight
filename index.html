<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <!-- HTML 語法寫在這 -->
  <img id="image" src="img/on.jpg">
  <button class="button" onclick="toggleLight()">
    ON<br>-<br>OFF
  </button>
  <p>請輸入關燈倒數時間</p>
  <input type="text" id="input">
  <button id="button2" onclick="countDownButton()">關燈倒數按鈕</button>
  <div class="div" id="timer"></div>
</head>

<body>
  <script type="text/javascript">
  // JavaScript 寫在這
  var state = true;

  //開關燈按鈕
  function toggleLight() {
    var image = document.getElementById("image");
    state = !state;
    image.src = state ? "img/on.jpg" : "img/off.jpg";
  }


  //倒數時間函數

  function countDownButton() {
    //倒數時間
    var timeLeft = document.getElementById("input").value;

    if (isNaN(timeLeft)){
      alert("Not a number");
      return;
    }

    //倒數計時器  
    function countDownTimer() {
      timeLeft = timeLeft - 1;

      if (timeLeft <= 0) {
        document.getElementById("image").src = "img/off.jpg";
        clearInterval(t);
        state = !state;
      }

      document.getElementById("timer").innerHTML = timeLeft;
    }
    var t = setInterval(countDownTimer, 1000);
  }
  </script>

</body>

</html>